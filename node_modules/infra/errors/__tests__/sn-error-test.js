/**
 * Created by kyle on 30/3/16.
 */

/**
 * Created by kyle on 26/3/16.
 */
jest.unmock('../sn-error');

describe('node_modules/errors/infra/sn-error.js', function(){

    it('should be able to create fully functional SNError object', function() {
        var SNError = require('../sn-error');

            var err = new SNError('It went bad!');

            // The name property should be set to the error's name
            expect(err.name).toEqual('SNError');

            // The error should be an instance of its class
            expect(err instanceof SNError).toBeTruthy();

            // The error should be an instance of builtin Error
            expect(err instanceof Error).toBeTruthy();

            // The error should have recorded a stack
            expect(err.stack).toBeDefined();

            // toString should return the default error message formatting
            expect(err.toString()).toEqual('SNError: It went bad!');

            // The stack should start with the default error message formatting
            expect(err.stack.split('\n')[0]).toEqual('SNError: It went bad!');

    });
} );
